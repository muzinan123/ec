(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58fc6d1e"],{8496:function(e,t,r){"use strict";r("f670")},d24c:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",staticStyle:{width:"30%"},attrs:{rules:e.rules,model:e.form,"label-width":"130px"}},[r("el-form-item",{attrs:{prop:"name.value"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.form.name.label.title)+" "),r("el-tooltip",{attrs:{placement:"right"}},[r("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.form.name.label.desc)+" ")]),r("i",{staticClass:"el-icon-question"})])],1),r("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:e.form.name.placeholder},model:{value:e.form.name.value,callback:function(t){e.$set(e.form.name,"value",t)},expression:"form.name.value"}})],1),e._l(e.form.properties,(function(t,a){return r("el-form-item",{key:a,attrs:{prop:"properties["+a+"].value"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(t.label.title+(a+1))+" "),r("el-tooltip",{attrs:{placement:"right"}},[r("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(t.label.desc)+" ")]),r("i",{staticClass:"el-icon-question"})])],1),r("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:t.placeholder},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}}),r("div",{staticClass:"property-container"},[a==e.form.properties.length-1?r("i",{staticClass:"el-icon-circle-plus",on:{click:e.addPropView}}):r("i",{staticClass:"el-icon-remove",on:{click:function(t){return e.removePropView(a)}}})])],1)})),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")])],1)],2)],1)},l=[],s=(r("e9c4"),r("a434"),r("d3b7"),r("159b"),r("b0c0"),r("3a3d"),r("5c96")),i={label:{title:"字段属性",desc:"该模板定义的字段"},value:"",placeholder:"请输入设备模板字段属性"},o={required:!0,message:"请输入设备模板字段属性",trigger:"blur"},n={name:"DevicesCreate",data:function(){return{form:{name:{label:{title:"名称",desc:"设备模板名称"},value:"",placeholder:"请输入设备模板名称"},properties:[JSON.parse(JSON.stringify(i))]},rules:{"name.value":[{required:!0,message:"请输入模板名称",trigger:"blur"}],"properties[0].value":[o]}}},methods:{removePropView:function(e){this.form.properties.splice(e,1)},addPropView:function(){this.form.properties.push(JSON.parse(JSON.stringify(i)));var e="properties["+(this.form.properties.length-1)+"].value";this.rules[e]=[o]},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var r=[];t.form.properties.forEach((function(e,t){r.push(e.value)}));var a={name:t.form.name.value,properties:r};t.$store.dispatch("edge-device/createDeviceModel",a).then((function(){Object(s["Message"])({message:"设备模板创建成功",type:"success",duration:5e3}),t.$emit("reload")}))}))}}},c=n,u=(r("8496"),r("2877")),p=Object(u["a"])(c,a,l,!1,null,"47920370",null);t["default"]=p.exports},e9c4:function(e,t,r){var a=r("23e7"),l=r("d066"),s=r("d039"),i=l("JSON","stringify"),o=/[\uD800-\uDFFF]/g,n=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,u=function(e,t,r){var a=r.charAt(t-1),l=r.charAt(t+1);return n.test(e)&&!c.test(l)||c.test(e)&&!n.test(a)?"\\u"+e.charCodeAt(0).toString(16):e},p=s((function(){return'"\\udf06\\ud834"'!==i("\udf06\ud834")||'"\\udead"'!==i("\udead")}));i&&a({target:"JSON",stat:!0,forced:p},{stringify:function(e,t,r){var a=i.apply(null,arguments);return"string"==typeof a?a.replace(o,u):a}})},f670:function(e,t,r){}}]);