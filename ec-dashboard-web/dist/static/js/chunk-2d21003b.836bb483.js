(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21003b"],{b5a3:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-button",{staticClass:"filter-item",attrs:{type:"primary"}},[a("router-link",{attrs:{to:"/edge-node/edge-node/create"}},[t._v(" 节点纳管 "),a("i",{staticClass:"el-icon-circle-plus"})])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"节点名称",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("svg-icon",{staticStyle:{"margin-right":"10px"},style:{color:0===o.status?"green":"red"},attrs:{"icon-class":"status"}}),a("a",{staticStyle:{color:"blue"},on:{click:function(e){return t.getMore(o.name,o.status)}}},[t._v(t._s(o.name))])]}}])}),a("el-table-column",{attrs:{prop:"type",label:"节点架构类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.architecture)+" ")]}}])}),a("el-table-column",{attrs:{label:"节点标签",width:"800"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return t._l(o.labels,(function(e,o,n){return a("el-tag",{staticClass:"my-tag"},[t._v(t._s(o)+":"+t._s(e))])}))}}])}),a("el-table-column",{attrs:{prop:"age",label:"创建时间",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:o.creationTimestamp,placement:"right-start"}},[a("el-button",{staticStyle:{border:"none",outline:"none"}},[t._v(t._s(t.dateTimeFormat(o.creationTimestamp))+" "),a("i",{staticClass:"el-icon-info"})])],1)]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("el-dropdown",{staticStyle:{cursor:"pointer"},attrs:{placement:"bottom-start"}},[a("span",{staticClass:"el-dropdown-link"},[a("svg-icon",{attrs:{"icon-class":"3points-vertical"}})],1),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("router-link",{attrs:{to:"/edge-node/detail/"+o.name}},[t._v(" 查看 ")])],1)],1)],1)]}}])})],1),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("删除以后节点无法恢复，确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},n=[],s=(a("d3b7"),a("159b"),a("b0c0"),a("ed08")),i=a("5c96"),l={name:"EdgeNode",data:function(){return{dialogVisible:!1,tableData:null}},created:function(){this.getList()},methods:{dateTimeFormat:s["b"],getList:function(){var t=this;this.$store.dispatch("edge-node/getNodeList").then((function(e){var a=[];e.forEach((function(t,e){a.push({creationTimestamp:t.metadata.creation_timestamp,name:t.metadata.name,status:"True"===t.status.conditions.pop().status?0:1,architecture:t.status.node_info.architecture,labels:t.metadata.labels})})),t.tableData=a}))},handleClose:function(t){this.$confirm("确认删除？").then((function(e){t()})).catch((function(t){}))},getMore:function(t,e){e?Object(i["Message"])({message:"节点异常",type:"error",duration:5e3}):this.$router.push({path:"/edge-node/detail/"+t})}}},r=l,c=a("2877"),u=Object(c["a"])(r,o,n,!1,null,"34d96362",null);e["default"]=u.exports}}]);